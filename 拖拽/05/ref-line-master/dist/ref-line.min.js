!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.RefLine=t():e.RefLine=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var l=n[i]={i:i,l:!1,exports:{}};return e[i].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r={xt:null,xc:null,xb:null,yl:null,yc:null,yr:null};for(var o in r){var a=r[o]=document.createElement("div");a.classList.add("ref-line",o),a.style.cssText="display:none;opacity:0.7;position:absolute;background:#4DAEFF;z-index:199111250;"+("x"===o[0]?"width:100%;height:1px;left:0;":"width:1px;height:100%;top:0;"),a.show=function(){this.style.display="block"},a.hide=function(){this.style.display="none"},a.isShow=function(){return"none"!==this.style.display},document.body.appendChild(a)}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.options=Object.assign({gap:3},t)}return l(e,[{key:"check",value:function(e,t){var n=this;t="string"==typeof t?document.querySelectorAll(t):t;var i=e.getBoundingClientRect();this.uncheck(),Array.from(t).forEach(function(t){if(t.classList.remove("ref-line-active"),t!==e){var l=t.getBoundingClientRect(),o=l.top,a=l.height,u=l.bottom,s=l.left,c=l.width,f=l.right,d=i.width/2,y=c/2,h=i.height/2,p=a/2,g={top:[{isNearly:n._isNearly(i.top,o),lineNode:r.xt,lineValue:o,dragValue:o},{isNearly:n._isNearly(i.bottom,o),lineNode:r.xt,lineValue:o,dragValue:o-i.height},{isNearly:n._isNearly(i.top+h,o+p),lineNode:r.xc,lineValue:o+p,dragValue:o+p-h},{isNearly:n._isNearly(i.bottom,u),lineNode:r.xb,lineValue:u,dragValue:u-i.height},{isNearly:n._isNearly(i.top,u),lineNode:r.xb,lineValue:u,dragValue:u}],left:[{isNearly:n._isNearly(i.left,s),lineNode:r.yl,lineValue:s,dragValue:s},{isNearly:n._isNearly(i.right,s),lineNode:r.yl,lineValue:s,dragValue:s-i.width},{isNearly:n._isNearly(i.left+d,s+y),lineNode:r.yc,lineValue:s+y,dragValue:s+y-d},{isNearly:n._isNearly(i.right,f),lineNode:r.yr,lineValue:f,dragValue:f-i.width},{isNearly:n._isNearly(i.left,f),lineNode:r.yr,lineValue:f,dragValue:f}]};for(var N in g)!function(n){g[n].forEach(function(i){i.isNearly&&(t.classList.add("ref-line-active"),e.style[n]=i.dragValue+"px",i.lineNode.style[n]=i.lineValue+"px",i.lineNode.show())})}(N)}})}},{key:"uncheck",value:function(){Object.values(r).forEach(function(e){return e.hide()}),Array.from(document.querySelectorAll(".ref-line-active")).forEach(function(e){return e.classList.remove("ref-line-active")})}},{key:"_isNearly",value:function(e,t){return Math.abs(e-t)<=this.options.gap}}]),e}();e.exports=u}])});