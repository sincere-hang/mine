<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title>Document</title>
	<style type="text/css">
		.bodyBg {
	background:#f0f2f5;
}
.content-page {
	overflow:auto;
	width:100%;
	padding:30px 15px;
}
.infobox {
	background:#ffffff;
}
.boxTitle {
	color:#22a7f0;
	font-size:18px;
	text-align:left;
	background:#fafafa;
	height:50px;
	line-height:50px;
	padding:0px 20px;
}
.boxContent {
	padding:20px;
}
.boxContent:after {
	content:'';
	display:table;
	clear:both;
}
.boxContent textarea{width: 100%;height: 38px;padding-top: 8px;}
.templetebox {
	margin-bottom:30px;
}
.btnBoxform {
	text-align:center;
}
	</style>
</head>
<body>
	<textarea name="billBar" id="search_text" placeholder="在此输入订单号查询"  style="height:18px;width:208px;min-width:208px;max-width:368px;max-height: 100px;"></textarea>
	
<textarea style='border: 1px solid #94BBE2;width:100%;overflow: hidden;word-break:break-all;'  rows=8

onpropertychange='this.style.posHeight=this.scrollHeight'

onfocus='this.style.posHeight=this.scrollHeight'></textarea>

<!-- <script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript"></script> -->
<!----------------------- 
作者：不争馒头 
来源：CSDN 
原文：https://blog.csdn.net/justinchen/article/details/328524 
版权声明：本文为博主原创文章，转载请附上博文链接！-->

<textarea id="text"></textarea>




<div class="infobox templetebox">
    <div class="boxTitle">个人简介</div>
    <div class="boxContent">
        <textarea data-adaptheight="" placeholder="请在此输入内容。" style="resize: none;">
        fewvewgwgwgwg  <br>
        fewvewgwgwgwg  <br>
        fewvewgwgwgwg  <br>
        fewvewgwgwgwg  <br>
        fewvewgwgwgwg  <br>

        fewvewgwgwgwg  <br>
        fewvewgwgwgwg  <br>
        </textarea>
    </div>
</div>

<div class="infobox templetebox">
    <div class="boxTitle">在学会担（兼）任的职务</div>
    <div class="boxContent">
        <textarea data-adaptheight="" rows="3" cols="40" placeholder="请在此输入内容。" style="resize: none;"></textarea>
    </div>
</div>





<script type="text/javascript">
// var scrollHeight = 0;
// document.getElementById("text").onkeyup = function () {
//     if (Math.abs(scrollHeight - this.scrollHeight) < 10) return;
//     scrollHeight = this.scrollHeight;
//     if(scrollHeight>80){
//     	scrollHeight=80;
//     }
//     this.style.height = scrollHeight + "px";
// }



// JavaScript Document

function adjustHeight(textareaElement, minHeight) {
    // compute the height difference which is caused by border and outline
    // 计算因边框和轮廓产生的高度差异
    var outerHeight = parseInt(window.getComputedStyle(textareaElement).height, 10);
    var diff = outerHeight - textareaElement.clientHeight;

    // set the height to 0 in case of it has to be shrinked
    // 设置高度为0以防需要收缩（高度）
    textareaElement.style.height = 0;
    // set the correct height
    // el.scrollHeight is the full height of the content, not just the visible part
    // 设置正确的高度
    // el.scrollHeight 是文本内容的全部高度，而不仅仅是可见部分的。
    textareaElement.style.height = Math.max(minHeight, textareaElement.scrollHeight + diff) + 'px';
}

// we use the "data-adaptheight" attribute as a marker
// 我们使用"data-adaptheight"属性作为一个标记
var textAreas = document.querySelectorAll('textarea[data-adaptheight]');
	console.log(textAreas.length);
// iterate through all the textareas on the page
// 迭代本页所有的文本域
for (var i = 0, l = textAreas.length; i < l; i++) {
    var el = textAreas[i];

    // we need box-sizing: border-box, if the textarea has padding
    // 如果文本域有边距，我们需要设置box-sizing: border-box
    el.style.boxSizing = el.style.mozBoxSizing = 'border-box';

    // we don't need any scrollbars, do we? :)
    // 我们不需要滚动条，不是么？ :)
    el.style.overflowY = 'hidden';

    // the minimum height initiated through the "rows" attribute
    // 通过"rows"属性初始化的最小高度
    var minHeight = el.scrollHeight;
    // console.log()
    console.log(minHeight);

    el.addEventListener('input', function() {
        adjustHeight(this, minHeight);
    });

    // we have to readjust when window size changes (e.g. orientation change)
    // 当窗口大小改变时，我们需要重新调整高度（例如方向变化）
    window.addEventListener('resize', function() {
        adjustHeight(this, minHeight);
    });

    // we adjust height to the initial content
    // 我们调整初始内容的高度
    adjustHeight(el, minHeight);
}

// we have to readjust when window size changes (e.g. orientation change)
//     当窗口大小改变时，我们需要重新调整高度（例如方向变化）
//     window.addEventListener('resize', function() {
//         adjustHeight(this, minHeight);
//     });



function changeReplyTextAreaHeight(){
    $(document).find('textarea').each(function(){
        if($(this).data('type') && $(this).height() < 200){
            $(this).css("height","200px");
        }
    });
}

window.addEventListener('input',function(){
    $(document).find('textarea').each(function(){
        if($(this).data('type') && $(this).height() < 200){
            $(this).css("height","200px");
        }
    });
});
</script>
</body>
</html>